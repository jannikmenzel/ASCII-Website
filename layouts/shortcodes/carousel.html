{{ $imagesParam := .Get "images" }}
{{ $autoplay := .Get "autoplay" | default "0" }}
{{ $class := .Get "class" | default "" }}
<div class="js-carousel relative w-full overflow-hidden {{ $class }}" data-autoplay="{{ $autoplay }}">
    <div class="relative">
        <div data-track class="flex transition-transform duration-500 ease-in-out will-change-transform">
            {{ if $imagesParam }}
                {{ $parts := split $imagesParam "," }}
                {{ range $i, $p := $parts }}
                    {{ $src := trim $p " \t\n" }}
                    <div class="flex-shrink-0 w-full">
                        {{ partial "image.html" (dict "src" $src "alt" (printf "Slide %d" (add $i 1)) "class" "w-full h-auto object-cover") }}
                    </div>
                {{ end }}
            {{ else }}
                <div class="p-6 text-center text-sm text-neutral-500">Keine Bilder angegeben. Verwende das
                    Shortcode-Argument `images`.
                </div>
            {{ end }}
        </div>

        <button class="carousel-prev absolute left-3 top-1/2 -translate-y-1/2 w-10 h-10 flex items-center justify-center bg-background-light/60 text-paper-light rounded-full shadow hover:bg-background-light/80"
                aria-label="Previous slide">
            <span class="material-icons">chevron_left</span>
        </button>
        <button class="carousel-next absolute right-3 top-1/2 -translate-y-1/2 w-10 h-10 flex items-center justify-center bg-background-light/60 text-paper-light rounded-full shadow hover:bg-background-light/80"
                aria-label="Next slide">
            <span class="material-icons">chevron_right</span>
        </button>
    </div>
</div>
