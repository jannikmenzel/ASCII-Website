<footer class="bg-paper-light border-t border-primary/10 py-8 md:py-12">
    <div class="container mx-auto px-4 md:px-6">
        <div class="flex flex-col lg:flex-row justify-between gap-8 md:gap-12 mb-8 md:mb-10">
            <div class="space-y-4 w-full lg:w-auto">
                <h3 class="text-sm md:text-s uppercase tracking-widest text-secondary/60 font-mono">
                    {{ if eq .Site.Language.Lang "en" }}Opening Hours{{ else }}Öffnungszeiten{{ end }}
                </h3>
                <div class="text-sm text-secondary/80 space-y-2 md:space-y-3">
                    <div class="flex justify-between items-center">
                        <span class="font-medium">
                            {{ if eq .Site.Language.Lang "en" }}Monday – Friday{{ else }}Montag – Freitag{{ end }}:
                        </span>
                        <span class="ml-2">09:00–16:00</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="font-medium">
                            {{ if eq .Site.Language.Lang "en" }}Saturday{{ else }}Samstag{{ end }}:
                        </span>
                        <span class="ml-2 font-mono text-xs">
                            {{ if eq .Site.Language.Lang "en" }}CLOSED{{ else }}GESCHLOSSEN{{ end }}
                        </span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="font-medium">
                            {{ if eq .Site.Language.Lang "en" }}Sunday{{ else }}Sonntag{{ end }}:
                        </span>
                        <span class="ml-2 font-mono text-xs">
                            {{ if eq .Site.Language.Lang "en" }}CLOSED{{ else }}GESCHLOSSEN{{ end }}
                        </span>
                    </div>
                </div>
                <div class="pt-3 md:pt-4 border-t border-primary/10">
                    <p class="text-xs text-secondary/60 leading-relaxed">
                        {{ if eq .Site.Language.Lang "en" }}
                            Times are approximate – subject to changes and deviations.
                        {{ else }}
                            Zeiten unverbindlich – Änderungen und Abweichungen vorbehalten.
                        {{ end }}
                    </p>
                </div>
            </div>

            <div class="space-y-4 w-full lg:w-auto">
                <h3 class="text-sm md:text-s uppercase tracking-widest text-secondary/60 font-mono text-left md:text-right">
                    {{ if eq .Site.Language.Lang "en" }}Location{{ else }}Standort{{ end }}
                </h3>
                <address class="text-sm text-secondary/80 not-italic space-y-2">
                    <div class="mb-4 md:mb-8">
                        <p class="font-semibold text-left md:text-right mb-1 md:mb-2">Andreas-Pfitzmann-Bau, Raum
                            E016</p>
                        <p class="text-left md:text-right mb-1 md:mb-2">Nöthnitzer Straße 46</p>
                        <p class="text-left md:text-right">01187 Dresden</p>
                    </div>
                    <div class="flex md:justify-end">
                        <a href="https://maps.google.com/?q=APB+Dresden+E016"
                           class="inline-flex items-center gap-1 text-secondary hover:text-secondary/80 transition-colors duration-200"
                           target="_blank">
                            <span class="material-icons text-sm">map</span>
                            <span class="hover:underline">
                                {{ if eq .Site.Language.Lang "en" }}Open in Maps{{ else }}In Maps öffnen{{ end }}
                            </span>
                        </a>
                    </div>
                </address>
            </div>
        </div>

        <div class="pt-6 md:pt-8 border-t border-primary/10">
            <div class="flex flex-col md:grid md:grid-cols-3 gap-6 md:gap-4 text-xs text-secondary/60 items-center">
                <div class="flex justify-center gap-4 md:gap-6 font-mono order-1">
                    <a href="{{ if eq .Site.Language.Lang "en" }}/en/privacy{{ else }}/privacy{{ end }}"
                       class="hover:text-primary transition-colors duration-200 py-1">
                        {{ if eq .Site.Language.Lang "en" }}Privacy{{ else }}Datenschutz{{ end }}
                    </a>
                    <a href="{{ if eq .Site.Language.Lang "en" }}/en/imprint{{ else }}/imprint{{ end }}"
                       class="hover:text-primary transition-colors duration-200 py-1">
                        {{ if eq .Site.Language.Lang "en" }}Imprint{{ else }}Impressum{{ end }}
                    </a>
                    <a href="{{ if eq .Site.Language.Lang "en" }}/en/terms{{ else }}/terms{{ end }}"
                       class="hover:text-primary transition-colors duration-200 py-1">
                        {{ if eq .Site.Language.Lang "en" }}Terms{{ else }}AGB{{ end }}
                    </a>
                </div>

                <div class="text-center order-2">
                    <p class="text-xs md:text-sm">
                        {{ if eq .Site.Language.Lang "en" }}
                            &copy; 2026 ASCII Café — Faculty of Computer Science
                        {{ else }}
                            &copy; 2026 ASCII Café — Fakultät Informatik
                        {{ end }}
                    </p>
                </div>

                <div class="flex justify-center gap-3 order-3">
                    <a href="#" id="lang-de-link"
                       class="text-xs px-3 py-1.5 rounded border border-primary/20 hover:border-primary/40 hover:text-primary transition-colors duration-200
                      {{ if eq .Site.Language.Lang "de" }}bg-primary/10 text-primary{{ end }}">
                        DE
                    </a>
                    <a href="#" id="lang-en-link"
                       class="text-xs px-3 py-1.5 rounded border border-primary/20 hover:border-primary/40 hover:text-primary transition-colors duration-200
                      {{ if eq .Site.Language.Lang "en" }}bg-primary/10 text-primary{{ end }}">
                        EN
                    </a>
                </div>
            </div>
        </div>
    </div>
</footer>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Language switcher
        const langEn = document.getElementById('lang-en-link');
        const langDe = document.getElementById('lang-de-link');

        if (langEn) {
            langEn.addEventListener('click', function (event) {
                event.preventDefault();
                localStorage.setItem('language', 'en');

                // Get current path without language prefix
                let currentPath = globalThis.location.pathname;
                let newPath = '/en';

                // Remove existing language prefix
                if (currentPath.startsWith('/de/')) {
                    newPath += currentPath.substring(3);
                } else if (currentPath.startsWith('/en/')) {
                    newPath += currentPath.substring(3);
                } else if (currentPath.startsWith('/de')) {
                    newPath += '/';
                } else if (currentPath.startsWith('/en')) {
                    newPath += '/';
                } else if (currentPath === '/de' || currentPath === '/en') {
                    newPath += '/';
                } else {
                    newPath += currentPath;
                }

                globalThis.location.pathname = newPath;
            });
        }

        if (langDe) {
            langDe.addEventListener('click', function (event) {
                event.preventDefault();
                localStorage.setItem('language', 'de');

                // Get current path without language prefix
                let currentPath = globalThis.location.pathname;
                let newPath = '/';

                // Remove existing language prefix
                if (currentPath.startsWith('/de/')) {
                    newPath += currentPath.substring(3);
                } else if (currentPath.startsWith('/en/')) {
                    newPath += currentPath.substring(3);
                } else if (currentPath.startsWith('/de') || currentPath.startsWith('/en')) {
                    // Go to root
                } else if (currentPath === '/') {
                    // Go to root
                    return;
                } else {
                    newPath += currentPath;
                }

                globalThis.location.pathname = newPath;
            });
        }
    });
</script>